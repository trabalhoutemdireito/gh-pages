<!DOCTYPE html><html lang="pt-br"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Entenda a Lei do Home Office e seus impactos nos direitos trabalhistas</title><meta name="description" content="Você já parou para pensar como o trabalho em casa mudou a nossa relação com o emprego? Pois é, o home office não é mais aquela “novidade” que só alguns sortudos experimentavam. Virou rotina, deslocando o escritório para dentro da sala de estar, da cozinha&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://www.trabalhoutemdireito.com.br/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas/"><link rel="alternate" type="application/atom+xml" href="https://www.trabalhoutemdireito.com.br/feed.xml" title="Trabalhou tem Direito - RSS"><link rel="alternate" type="application/json" href="https://www.trabalhoutemdireito.com.br/feed.json" title="Trabalhou tem Direito - JSON"><meta property="og:title" content="Entenda a Lei do Home Office e seus impactos nos direitos trabalhistas"><meta property="og:image" content="https://www.trabalhoutemdireito.com.br/media/posts/5/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas.jpg"><meta property="og:image:width" content="1344"><meta property="og:image:height" content="768"><meta property="og:site_name" content="Trabalhou tem Direito"><meta property="og:description" content="Você já parou para pensar como o trabalho em casa mudou a nossa relação com o emprego? Pois é, o home office não é mais aquela “novidade” que só alguns sortudos experimentavam. Virou rotina, deslocando o escritório para dentro da sala de estar, da cozinha&hellip;"><meta property="og:url" content="https://www.trabalhoutemdireito.com.br/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas/"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://www.trabalhoutemdireito.com.br/media/website/logo.jpg" type="image/x-icon"><link rel="stylesheet" href="https://www.trabalhoutemdireito.com.br/assets/css/style.css?v=541cea4f8d85ce95102af853115ac8e3"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.trabalhoutemdireito.com.br/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas/"},"headline":"Entenda a Lei do Home Office e seus impactos nos direitos trabalhistas","datePublished":"2025-09-09T00:00-03:00","dateModified":"2025-09-09T00:00-03:00","image":{"@type":"ImageObject","url":"https://www.trabalhoutemdireito.com.br/media/posts/5/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas.jpg","height":768,"width":1344},"description":"Você já parou para pensar como o trabalho em casa mudou a nossa relação com o emprego? Pois é, o home office não é mais aquela “novidade” que só alguns sortudos experimentavam. Virou rotina, deslocando o escritório para dentro da sala de estar, da cozinha&hellip;","author":{"@type":"Person","name":"Kaik James","url":"https://www.trabalhoutemdireito.com.br/autores/kaik-james/"},"publisher":{"@type":"Organization","name":"Kaik James","logo":{"@type":"ImageObject","url":"https://www.trabalhoutemdireito.com.br/media/website/trabalhou-tem-direito-2.png","height":80,"width":300}}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body class="post-template"><div class="container js-container"><nav class="menu"><ul class="navbar__menu"><li><a href="https://www.trabalhoutemdireito.com.br/" target="_self">Início</a></li><li><a href="https://www.trabalhoutemdireito.com.br/categoria/leis/" target="_self">Leis</a></li><li><a href="https://www.trabalhoutemdireito.com.br/categoria/artigos/" target="_self">Artigos</a></li><li><a href="https://www.trabalhoutemdireito.com.br/categoria/dicas/" target="_self">Dicas</a></li><li><a href="https://www.trabalhoutemdireito.com.br/categoria/blog/" target="_self">Blog</a></li></ul></nav><div class="container__content"><header class="top"><div class="top__item"><a class="logo" href="https://www.trabalhoutemdireito.com.br/"><img src="https://www.trabalhoutemdireito.com.br/media/website/trabalhou-tem-direito-2.png" alt="Trabalhou tem Direito" width="300" height="80"></a></div><div class="top__item top__item--right"><button class="menu-toggle js-menu-toggle" aria-label="Menu" aria-expanded="false"><span class="menu-toggle-box"><span class="menu-toggle-inner">Menu</span></span></button></div></header><main class="main post"><article class="content"><div class="main__left"><figure class="hero"><img src="https://www.trabalhoutemdireito.com.br/media/posts/5/entenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas.jpg" loading="eager" height="768" width="1344" alt="Entenda a Lei do Home Office e seus impactos nos direitos trabalhistas"></figure><header><h1>Entenda a Lei do Home Office e seus impactos nos direitos trabalhistas</h1><p><time datetime="2025-09-09T00:00">setembro 9, 2025 </time>by <a href="https://www.trabalhoutemdireito.com.br/autores/kaik-james/" rel="author" title="Kaik James">Kaik James</a></p></header></div><div class="main__right"><div class="content__entry"><p></p><p>Você já parou para pensar como o trabalho em casa mudou a nossa relação com o emprego? Pois é, o home office não é mais aquela “novidade” que só alguns sortudos experimentavam. Virou rotina, deslocando o escritório para dentro da sala de estar, da cozinha ou — sejamos sinceros — até do quarto bagunçado. E sabe o que é curioso? Apesar desse cenário mais “descolado”, existe um mundo de regras, direitos e direitos que nem todo mundo conhece direito. Afinal, com essa tal da Lei do Home Office, como ficam, de fato, os direitos trabalhistas? Vamos destrinchar isso juntos, sem enrolação, numa conversa que, prometo, vai te deixar mais tranquilo na hora de fechar aquele acordo ou conversar com o RH.</p><p></p><p>Antes de ir direto aos impactos, deixa eu esclarecer uma coisa rápida: a chamada “Lei do Home Office” nada mais é do que a regulamentação da modalidade de trabalho remoto que já existia — mas que, com a pandemia, ganhou força e precisou de uma definição oficial. O nome correto é a <em>Medida Provisória nº 927/2020</em>, que foi convertida na lei para organizar as relações de trabalho quando o funcionário não está dentro dos muros da empresa. Mas olha que interessante: o home office não é exatamente uma novidade, viu? Ele já rolava antes, só que meio na “carta branca”, sabe? De repente, todo mundo foi obrigado a se readaptar, e, claro, várias questões legais precisavam ser formalizadas.</p><p></p><p>Deixe-me explicar: imagine que até então o funcionário que trabalhava de casa tinha poucos direitos específicos, e a empresa quase não tinha obrigações detalhadas para quem estava remotamente. Era algo meio “finge que não vê”. Mas agora? Agora temos regras claras sobre jornada, custos e até ergonomia. É como se o escritório tradicional tivesse se catapultado para o nosso teto, e, com isso, acompanhasse um “manual de instruções” surpreendentemente robusto.</p><p></p><h2>Por que essa legislação importa para você?</h2><p></p><p>Sabe de uma coisa? A lei existe pra dar segurança para todo mundo: para o trabalhador que quer garantir que seus direitos não serão ignorados, e para a empresa, que não quer surpresas legais (nem bobagens trabalhistas, né?). Quando você trabalha de casa, as linhas entre vida pessoal e profissional podem se confundir rapidinho — e é aí que mora o perigo. A legislação tenta justamente traçar limites. Quer dizer, até onde vai a responsabilidade do chefe e onde começa a sua liberdade, por assim dizer. Sem isso, entramos numa zona nebulosa, que pode gerar desde horas extras nunca pagas até problemas sérios de saúde por falta de condições adequadas de trabalho.</p><p></p><h3>Mas afinal, quais direitos o home office protege?</h3><p></p><p>Olha, a resposta é tão simples quanto complexa: o home office amplia algumas garantias clássicas e impõe novas obrigações. Traduzindo em miúdos, isso significa que:</p><p></p><p><br></p><p></p><p>Se você escreveu ou pensou “poxa, parece tudo simples”, calma. O diabo mora nos detalhes (sempre!). A lei tenta ser clara, mas situações especiais não faltam. Por exemplo: e quando um funcionário improvisa o escritório na cadeira do restaurante ou na rede da varanda? A lei fala em “condições adequadas”, mas existem exceções, claro. Ah, e tem mais — mas vamos chegar lá.</p><p></p><h2>Como fica o controle de jornada no home office?</h2><p></p><p>Agora, essa é boa. Você sabia que controlar as horas trabalhadas quando o funcionário está espalhado em vários cantos da casa não é tão simples? A empresa não pode simplesmente “deixar para lá” e tomar atitude só quando perceber que o rendimento caiu. A regra, a grosso modo, é clareza — o gestor precisa conhecer o horário que o trabalhador está à disposição.</p><p></p><p>Resumindo: os sistemas de ponto eletrônico, aplicativos e até registros manuais entram em cena para evitar aquela confusão clássica do “eu achei que já tinha acabado, mas o chefe mandou mais um e-mail”. Essa transparência ajuda a proteger o funcionário de eventuais abusos e a empresa de processos, que nem sempre são baratos — já que a Justiça do Trabalho anda cheia desse tipo de reclamação.</p><p></p><p>Quer dizer, o trabalho remoto pode até parecer meio “relaxa, senta aí que não tem hora pra acabar”, mas na prática não é bem assim. Jornada tem limite, e o descanso, bem... isso também não pode virar carta fora do baralho. O sonho de trabalhar de pijama esbarra na necessidade de uma rotina, no final das contas.</p><p></p><h3>Essa tal de ergonomia é papo sério ou frescura?</h3><p></p><p>Ergonomia? Pode parecer conversa de técnico, mas é um negócio sério. Já imaginou passar horas numa cadeira desconfortável, com a lombar doendo e dedos travados? Pois é, o impacto a longo prazo é real — e a empresa deve zelar para que isso não aconteça. Sabe o que a lei exige? Que o empregador oriente e oriente mesmo sobre a organização do espaço, postura correta e pausas para evitar danos à saúde.</p><p></p><p>Não é que o chefe vai entrar na sua casa, claro que não! Mas há uma responsabilidade compartilhada aqui — o funcionário deve informar se o ambiente é inadequado e, se possível, solicitar suporte. No fundo, é quase uma parceria para cuidar do bem-estar do trabalhador. Sim, parece meio óbvio, mas aqui no Brasil, onde o home office tem menos de cinco anos ganhando corpo, esse ajuste cultural está acontecendo ainda devagar. Você não está sozinho nessa confusão.</p><p></p><h2>Custos extras: quem paga a conta afinal?</h2><p></p><p>Vem cá, me diz: você já sentiu que trabalha “de grátis” quando está em casa? Pois é, por mais que pareça que economiza com transporte e almoço fora, tem custo que aumenta e ninguém fala muito. A luz, a internet, equipamentos e até a cadeira que você teve que comprar. Será que a empresa tem que arcar com isso tudo? Dependendo do acordo, sim. Mas é aí que começam as dúvidas, pois a norma fala em negociação.</p><p></p><p>É o famoso “vamos acertar na conversa” — só que isso nem sempre rola de forma transparente. Se o empregador fornece o notebook, tudo fica mais claro; mas se você usa o seu próprio celular para tarefas do trabalho, é outra história. O que fica é a necessidade de registrar esses acordos, para que ninguém saia no prejuízo. Aliás, você conhece a CLT? Se não, vale conferir porque foi nela que essas <a href="https://www.trabalhoutemdireito.com.br/categoria/leis/" target="_blank">leis</a> foram moldadas para caber no mundo virtual.</p><p></p><h2>Sempre tem um porém: o que a lei não cobre (e você precisa ficar esperto)</h2><p></p><p>Agora, nem tudo é festa nesse cenário. Por exemplo, a lei não aborda diretamente questões como saúde mental no home office — que, convenhamos, virou mais do que pauta: virou desafio real. A sensação de isolamento, a dificuldade em “desconectar” depois do expediente, a invasão da vida pessoal... tudo isso não tem uma regra específica, mas impacta muito o dia a dia dos trabalhadores.</p><p></p><p>Outra questão sensível é o controle de produtividade. Na prática, muitas empresas monitoram o funcionário com softwares que registram tudo — às vezes até demais. Será que isso fere a privacidade? A lei até já começou a discutir, mas a regulamentação ainda está longe de concretizar regras claras para esse tipo de vigilância digital. Ah, a modernidade... Sempre trazendo os dilemas junto com as facilidades.</p><p></p><h3>Home office vai ficar pra sempre? Uma questão que responde a outra</h3><p></p><p>Quer saber? Essa é uma pergunta daquelas que só o tempo responde. Muitas empresas que adotaram o home office continuam apostando no modelo híbrido, que mistura esse “estar em casa” com dias no escritório. Parece até aquele samba: “vem e vai, mas acaba ficando”.</p><p></p><p>A legislação, por sua vez, tem que ser flexível. A regra está aí pra proteger, mas também para se adaptar à realidade. Afinal, o mercado de trabalho é vivo, faz curvas e rotações que nem a gente imagina. Você se acha um privilegiado por trabalhar de casa? Ou sente falta daquela resenha no corredor com os colegas? Confessar, somos meio que dependentes do contato humano, né?</p><p></p><h2>Dicas práticas para quem já está no home office (ou vai entrar nesta jornada)</h2><p></p><p>Deixa eu te dar umas dicas quase de amigo pra essa vida remota (que, por vezes, virou um desafio tão grande quanto encarar o trânsito de São Paulo):</p><p></p><p><br></p><p></p><p>Não é mágica, e nem precisa ser torturante. O lance é adaptação — e a lei do home office veio justamente para ajudar a gente nesse processo, ainda que, como você já percebeu, existam lacunas que a gente precisa ficar de olho.</p><p></p><h2>Conclusão: navegar pela nova realidade do trabalho remoto</h2><p></p><p>O home office saiu de um plano quase experimental para se tornar protagonista da rotina profissional, e com isso, suas regras também precisaram evoluir — em especial, no que diz respeito aos direitos trabalhistas. A tal da Lei do Home Office é uma tentativa clara de regular essa relação que, antes, parecia quase invisível no contexto da CLT tradicional. Protege jornada, saúde, equipamentos, mas também exige que empresas e trabalhadores caminhem lado a lado, com diálogo e responsabilidade.</p><p></p><p>Não é perfeito, não é a solução para todos os problemas, mas é um ponto de partida que promete moldar o futuro do trabalho em um mundo onde a flexibilidade virou moeda valiosa. E, sinceramente? Quer saber? Quem consegue dominar essa balança sai na frente — seja empregado ou empregador.</p><p></p><p>Então, da próxima vez que estiver naquele bate-papo sobre home office, você já vai ter uma boa noção do que está por trás do que parece simples: trabalhar de casa.</p><footer><div class="content__tag-share"><ul class="content__tag"><li><a href="https://www.trabalhoutemdireito.com.br/categoria/leis/">Leis</a></li></ul><div class="content__share"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.trabalhoutemdireito.com.br%2Fentenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas%2F" class="js-share facebook" aria-label="Share with Facebook" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://www.trabalhoutemdireito.com.br/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://api.whatsapp.com/send?text=Entenda%20a%20Lei%20do%20Home%20Office%20e%20seus%20impactos%20nos%20direitos%20trabalhistas https%3A%2F%2Fwww.trabalhoutemdireito.com.br%2Fentenda-a-lei-do-home-office-e-seus-impactos-nos-direitos-trabalhistas%2F" class="js-share whatsapp" aria-label="Share with WhatsApp" rel="nofollow noopener noreferrer"><svg class="icon"><use xlink:href="https://www.trabalhoutemdireito.com.br/assets/svg/svg-map.svg#whatsapp"/></svg></a></div></div><div class="content__bio"><img src="https://www.trabalhoutemdireito.com.br/media/website/kaik.jpeg" loading="lazy" height="114" width="114" alt="Kaik James"><h3><a href="https://www.trabalhoutemdireito.com.br/autores/kaik-james/" title="Kaik James">Kaik James</a></h3></div></footer></div></div></article><div class="main__right main__right--bottom"><div class="related"><h2 class="related__title">Related posts:</h2><ul class="related__items"><li class="related__item"><h3 class="h5"><a href="https://www.trabalhoutemdireito.com.br/5-passos-para-reconhecer-quando-seus-direitos-trabalhistas-estao-sendo-violados/">5 passos para reconhecer quando seus direitos trabalhistas estão sendo violados</a></h3><time datetime="2025-10-05T00:00" class="feed__meta">outubro 5, 2025</time></li><li class="related__item"><h3 class="h5"><a href="https://www.trabalhoutemdireito.com.br/por-que-conhecer-seus-direitos-trabalhistas-evita-prejuizos-no-futuro/">Por que conhecer seus direitos trabalhistas evita prejuízos no futuro</a></h3><time datetime="2025-10-10T00:00" class="feed__meta">outubro 10, 2025</time></li></ul></div></div></main><footer class="footer"><div class="footer__social"><a href="https://www.facebook.com/profile.php?id&#x3D;100079742985091" class="facebook" aria-label="Facebook"><svg class="icon"><use xlink:href="https://www.trabalhoutemdireito.com.br/assets/svg/svg-map.svg#facebook"/></svg> </a><a href="https://www.instagram.com/trabalhoutemdireito/" class="instagram" aria-label="Instagram"><svg class="icon"><use xlink:href="https://www.trabalhoutemdireito.com.br/assets/svg/svg-map.svg#instagram"/></svg></a></div><div class="footer__copyright"><p class="copyright"><a href="https://www.trabalhoutemdireito.com.br/politica-de-privacidade/" title="Política de Privacidade">Política de Privacidade</a> | <a href="https://www.trabalhoutemdireito.com.br/contato/" title="Contato">Contato |</a> <a href="https://www.trabalhoutemdireito.com.br/termos-e-condicoes/" title="Termos e Condições">Termos e Condições</a></p></div></footer></div></div><script defer="defer" src="https://www.trabalhoutemdireito.com.br/assets/js/scripts.min.js?v=1ea8317abae2e05fa2a65ed7bbff7ba7"></script><script>var images = document.querySelectorAll('img[loading]');
   
           for (var i = 0; i < images.length; i++) {
               if (images[i].complete) {
                   images[i].classList.add('is-loaded');
               } else {
                   images[i].addEventListener('load', function () {
                       this.classList.add('is-loaded');
                   }, false);
               }
           }</script><div class="pcb" data-behaviour="badge" data-behaviour-link="#cookie-settings" data-revision="1" data-config-ttl="48" data-debug-mode="false"><div role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-title" aria-describedby="pcb-txt" class="pcb__banner pcb__banner--left"><div class="pcb__inner"><div id="pcb-title" role="heading" aria-level="2" class="pcb__title">Este site usa cookies</div><div id="pcb-txt" class="pcb__txt">Selecione quais cookies deseja aceitar por meio das caixas de seleção abaixo; nosso site usa cookies para examinar o tráfego do site e a atividade do usuário enquanto estiver em nosso site, para fins de marketing e para fornecer funcionalidade de mídia social. <a href="#not-specified">Ver mais detalhes...</a></div><div class="pcb__buttons"><button type="button" class="pcb__btn pcb__btn--link pcb__btn--configure" aria-haspopup="dialog">Gerenciar preferências</button> <button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar</button></div></div></div><div class="pcb__popup" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="pcb-popup-title"><div class="pcb__popup__wrapper"><div class="pcb__inner pcb__popup__inner"><div class="pcb__popup__heading"><div id="pcb-popup-title" role="heading" aria-level="2" class="pcb__title">Configurações de cookies</div><button class="pcb__popup__close" aria-label="Close"></button></div><div class="pcb__popup__content"><div class="pcb__txt pcb__popup__txt">Utilizamos cookies para melhorar sua experiência de navegação, veicular anúncios ou conteúdo personalizado e analisar nosso tráfego. Ao clicar em "Aceitar todos", você concorda com o uso de cookies. <a href="#not-specified">Ver mais detalhes...</a></div><ul class="pcb__groups"></ul></div><div class="pcb__buttons pcb__popup__buttons"><button type="button" class="pcb__btn pcb__btn--solid pcb__btn--accept">Aceitar todos</button> <button type="button" class="pcb__btn pcb__btn--reject">Recusar todos</button> <button type="button" class="pcb__btn pcb__btn--save">Salvar</button></div></div></div></div><div class="pcb__overlay" aria-hidden="true"></div><button class="pcb__badge" aria-label="Política de Cookies" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" width="40" height="40" viewBox="0 0 23 23" fill="currentColor"><path d="M21.41 12.71c-.08-.01-.15 0-.22 0h-.03c-.03 0-.05 0-.08.01-.07 0-.13.01-.19.04-.52.21-1.44.19-2.02-.22-.44-.31-.65-.83-.62-1.53a.758.758 0 0 0-.27-.61.73.73 0 0 0-.65-.14c-1.98.51-3.49.23-4.26-.78-.82-1.08-.73-2.89.24-4.49.14-.23.14-.52 0-.75a.756.756 0 0 0-.67-.36c-.64.03-1.11-.1-1.31-.35-.19-.26-.13-.71-.01-1.29.04-.18.06-.38.03-.59-.05-.4-.4-.7-.81-.66C5.1 1.54 1 6.04 1 11.48 1 17.28 5.75 22 11.6 22c5.02 0 9.39-3.54 10.39-8.42.08-.4-.18-.78-.58-.87Zm-9.81 7.82c-5.03 0-9.12-4.06-9.12-9.06 0-4.34 3.05-8 7.25-8.86-.08.7.05 1.33.42 1.81.24.32.66.67 1.38.84-.76 1.86-.65 3.78.36 5.11.61.81 2.03 2 4.95 1.51.18.96.71 1.54 1.18 1.87.62.43 1.38.62 2.1.62.05 0 .09 0 .13-.01-1.23 3.64-4.7 6.18-8.64 6.18ZM13 17c0 .55-.45 1-1 1s-1-.45-1-1 .45-1 1-1 1 .45 1 1Zm5.29-12.3a.99.99 0 0 1-.29-.71c0-.55.45-.99 1-.99a1 1 0 0 1 .71.3c.19.19.29.44.29.71 0 .55-.45.99-1 .99a1 1 0 0 1-.71-.3ZM9 13.5c0 .83-.67 1.5-1.5 1.5S6 14.33 6 13.5 6.67 12 7.5 12s1.5.67 1.5 1.5Zm3.25.81a.744.744 0 0 1-.06-1.05c.28-.32.75-.34 1.05-.06.31.28.33.75.05 1.06-.15.16-.35.25-.56.25-.18 0-.36-.06-.5-.19ZM8.68 7.26c.41.37.44 1 .07 1.41-.2.22-.47.33-.75.33a.96.96 0 0 1-.67-.26c-.41-.37-.44-1-.07-1.41.37-.42 1-.45 1.41-.08Zm11.48 1.88c.18-.19.52-.19.7 0 .05.04.09.1.11.16.03.06.04.12.04.19 0 .13-.05.26-.15.35-.09.1-.22.15-.35.15s-.26-.05-.35-.15a.355.355 0 0 1-.11-.16.433.433 0 0 1-.04-.19c0-.13.05-.26.15-.35Zm-4.93-1.86a.75.75 0 1 1 1.059-1.06.75.75 0 0 1-1.059 1.06Z"/></svg></button></div><script>(function(win) {
       if (!document.querySelector('.pcb')) {
           return;
       }
   
       var cbConfig = {
           behaviour: document.querySelector('.pcb').getAttribute('data-behaviour'),
           behaviourLink: document.querySelector('.pcb').getAttribute('data-behaviour-link'),
           revision: document.querySelector('.pcb').getAttribute('data-revision'),
           configTTL: parseInt(document.querySelector('.pcb').getAttribute('data-config-ttl'), 10),
           debugMode: document.querySelector('.pcb').getAttribute('data-debug-mode') === 'true',
           initialState: null,
           initialLsState: null,
           previouslyAccepted: []
       };
   
       var cbUI = {
           wrapper: document.querySelector('.pcb'),
           banner: {
               element: null,
               btnAccept: null,
               btnReject: null,
               btnConfigure: null
           },
           popup: {
               element: null,
               btnClose: null,
               btnSave: null,
               btnAccept: null,
               btnReject: null,
               checkboxes: null,
           },
           overlay: null,
           badge: null,
           blockedScripts: document.querySelectorAll('script[type^="gdpr-blocker/"]'),
           triggerLinks: cbConfig.behaviourLink ? document.querySelectorAll('a[href*="' + cbConfig.behaviourLink + '"]') : null
       };
   
       function initUI () {
           // setup banner elements
           cbUI.banner.element = cbUI.wrapper.querySelector('.pcb__banner');
           cbUI.banner.btnAccept = cbUI.banner.element.querySelector('.pcb__btn--accept');
           cbUI.banner.btnReject = cbUI.banner.element.querySelector('.pcb__btn--reject');
           cbUI.banner.btnConfigure = cbUI.banner.element.querySelector('.pcb__btn--configure');
   
           // setup popup elements
           if (cbUI.wrapper.querySelector('.pcb__popup')) {
               cbUI.popup.element = cbUI.wrapper.querySelector('.pcb__popup');
               cbUI.popup.btnClose = cbUI.wrapper.querySelector('.pcb__popup__close');
               cbUI.popup.btnSave = cbUI.popup.element.querySelector('.pcb__btn--save');
               cbUI.popup.btnAccept = cbUI.popup.element.querySelector('.pcb__btn--accept');
               cbUI.popup.btnReject = cbUI.popup.element.querySelector('.pcb__btn--reject');
               cbUI.popup.checkboxes = cbUI.popup.element.querySelector('input[type="checkbox"]');
               // setup overlay
               cbUI.overlay = cbUI.wrapper.querySelector('.pcb__overlay');
           }
   
           cbUI.badge = cbUI.wrapper.querySelector('.pcb__badge');
   
           if (cbConfig.behaviour.indexOf('link') > -1) {
               for (var i = 0; i < cbUI.triggerLinks.length; i++) {
                   cbUI.triggerLinks[i].addEventListener('click', function(e) {
                       e.preventDefault();
                       showBannerOrPopup();
                   });
               }
           }
       }
   
       function initState () {
           var lsKeyName = getConfigName();
           var currentConfig = localStorage.getItem(lsKeyName);
           var configIsFresh = checkIfConfigIsFresh();
   
           if (!configIsFresh || currentConfig === null) {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config not found, or configuration expired');
               }
   
               if (window.publiiCBGCM) {
                   gtag('consent', 'default', {
                       'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                       'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                       'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                       'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                       'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                       'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                       'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                   });  
                   
                   if (cbConfig.debugMode) {
                       console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                           'ad_storage': window.publiiCBGCM.defaultState.ad_storage ? 'granted' : 'denied',
                           'ad_personalization': window.publiiCBGCM.defaultState.ad_personalization ? 'granted' : 'denied',
                           'ad_user_data': window.publiiCBGCM.defaultState.ad_user_data ? 'granted' : 'denied',
                           'analytics_storage': window.publiiCBGCM.defaultState.analytics_storage ? 'granted' : 'denied',
                           'personalization_storage': window.publiiCBGCM.defaultState.personalization_storage ? 'granted' : 'denied',
                           'functionality_storage': window.publiiCBGCM.defaultState.functionality_storage ? 'granted' : 'denied',
                           'security_storage': window.publiiCBGCM.defaultState.security_storage ? 'granted' : 'denied'
                       }));
                   }
               }
   
               showBanner();
           } else if (typeof currentConfig === 'string') {
               if (cbConfig.debugMode) {
                   console.log('🍪 Config founded');
               }
   
               cbConfig.initialLsState = currentConfig.split(',');
   
               if (window.publiiCBGCM) {
                   gtag('consent', 'default', {
                       'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                       'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                       'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                       'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                       'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                       'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                       'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                   });
                   
                   if (cbConfig.debugMode) {
                       console.log('🍪 GCMv2 DEFAULT STATE: ' + JSON.stringify({
                           'ad_storage': getDefaultConsentState(currentConfig, 'ad_storage'),
                           'ad_personalization': getDefaultConsentState(currentConfig, 'ad_personalization'),
                           'ad_user_data': getDefaultConsentState(currentConfig, 'ad_user_data'),
                           'analytics_storage': getDefaultConsentState(currentConfig, 'analytics_storage'),
                           'personalization_storage': getDefaultConsentState(currentConfig, 'personalization_storage'),
                           'functionality_storage': getDefaultConsentState(currentConfig, 'functionality_storage'),
                           'security_storage': getDefaultConsentState(currentConfig, 'security_storage')
                       }));
                   }
               }
   
               showBadge();
   
               if (cbUI.popup.element) {
                   var allowedGroups = currentConfig.split(',');
                   var checkedCheckboxes = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
   
                   for (var j = 0; j < checkedCheckboxes.length; j++) {
                       var name = checkedCheckboxes[j].getAttribute('data-group-name');
   
                       if (name && name !== '-' && allowedGroups.indexOf(name) === -1) {
                           checkedCheckboxes[j].checked = false;
                       }
                   }
   
                   for (var i = 0; i < allowedGroups.length; i++) {
                       var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + allowedGroups[i] + '"]');
   
                       if (checkbox) {
                           checkbox.checked = true;
                       }
   
                       allowCookieGroup(allowedGroups[i]);
                   }
               }
           }
   
           setTimeout(function () {
               cbConfig.initialState = getInitialStateOfConsents();
           }, 0);
       }
   
       function checkIfConfigIsFresh () {
           var lastConfigSave = localStorage.getItem('publii-gdpr-cookies-config-save-date');
   
           if (lastConfigSave === null) {
               return false;
           }
   
           lastConfigSave = parseInt(lastConfigSave, 10);
   
           if (lastConfigSave === 0) {
               return true;
           }
   
           if (+new Date() - lastConfigSave < cbConfig.configTTL * 24 * 60 * 60 * 1000) {
               return true;
           }
   
           return false;
       }
   
       function getDefaultConsentState (currentConfig, consentGroup) {
           let configGroups = currentConfig.split(',');
   
           for (let i = 0; i < configGroups.length; i++) {
               let groupName = configGroups[i];
               let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === groupName);
   
               if (group && group[consentGroup]) {
                   return 'granted';
               }
           }  
           
           if (window.publiiCBGCM.defaultState[consentGroup]) {
               return 'granted'; 
           }
           
           return 'denied';
       }
   
       function initBannerEvents () {
           cbUI.banner.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('banner');
               showBadge();
           }, false);
   
           if (cbUI.banner.btnReject) {
               cbUI.banner.btnReject.addEventListener('click', function (e) {
                   e.preventDefault();
                   rejectAllCookies();
                   showBadge();
               }, false);
           }
   
           if (cbUI.banner.btnConfigure) {
               cbUI.banner.btnConfigure.addEventListener('click', function (e) {
                   e.preventDefault();
                   hideBanner();
                   showAdvancedPopup();
                   showBadge();
               }, false);
           }
       }
   
       function initPopupEvents () {
           if (!cbUI.popup.element) {
               return;
           }
   
           cbUI.overlay.addEventListener('click', function (e) {
               hideAdvancedPopup();
           }, false);
   
           cbUI.popup.element.addEventListener('click', function (e) {
               e.stopPropagation();
           }, false);
   
           cbUI.popup.btnAccept.addEventListener('click', function (e) {
               e.preventDefault();
               acceptAllCookies('popup');
           }, false);
   
           cbUI.popup.btnReject.addEventListener('click', function (e) {
               e.preventDefault();
               rejectAllCookies();
           }, false);
   
           cbUI.popup.btnSave.addEventListener('click', function (e) {
               e.preventDefault();
               saveConfiguration();
           }, false);
   
           cbUI.popup.btnClose.addEventListener('click', function (e) {
               e.preventDefault();
               hideAdvancedPopup();
           }, false);
       }
   
       function initBadgeEvents () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.addEventListener('click', function (e) {
               showBannerOrPopup();
           }, false);
       }
   
       initUI();
       initState();
       initBannerEvents();
       initPopupEvents();
       initBadgeEvents();
   
       /**
        * API
        */
       function addScript (src, inline) {
           var newScript = document.createElement('script');
   
           if (src) {
               newScript.setAttribute('src', src);
           }
   
           if (inline) {
               newScript.text = inline;
           }
   
           document.body.appendChild(newScript);
       }
   
       function allowCookieGroup (allowedGroup) {
           var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');
           cbConfig.previouslyAccepted.push(allowedGroup);
       
           for (var j = 0; j < scripts.length; j++) {
               addScript(scripts[j].src, scripts[j].text);
           }
   
           var groupEvent = new Event('publii-cookie-banner-unblock-' + allowedGroup);
           document.body.dispatchEvent(groupEvent);
           unlockEmbeds(allowedGroup);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Allowed group: ' + allowedGroup);
           }
   
           if (window.publiiCBGCM && (!cbConfig.initialLsState || cbConfig.initialLsState.indexOf(allowedGroup) === -1)) {
               let consentResult = {};
               let group = window.publiiCBGCM.groups.find(group => group.cookieGroup === allowedGroup);
   
               if (group) {
                   let foundSomeConsents = false;
   
                   Object.keys(group).forEach(key => {
                       if (key !== 'cookieGroup' && group[key] === true) {
                           consentResult[key] = 'granted';
                           foundSomeConsents = true;
                       }
                   });
   
                   if (foundSomeConsents) {
                       gtag('consent', 'update', consentResult);   
   
                       if (cbConfig.debugMode) {
                           console.log('🍪 GCMv2 UPDATE: ' + JSON.stringify(consentResult));
                       }
                   }
               }
           }
       }
   
       function showBannerOrPopup () {
           if (cbUI.popup.element) {
               showAdvancedPopup();
           } else {
               showBanner();
           }
       }
   
       function showAdvancedPopup () {
           cbUI.popup.element.classList.add('is-visible');
           cbUI.overlay.classList.add('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'false');
           cbUI.overlay.setAttribute('aria-hidden', 'false');
       }
   
       function hideAdvancedPopup () {
           cbUI.popup.element.classList.remove('is-visible');
           cbUI.overlay.classList.remove('is-visible');
           cbUI.popup.element.setAttribute('aria-hidden', 'true');
           cbUI.overlay.setAttribute('aria-hidden', 'true');
       }
   
       function showBanner () {
           cbUI.banner.element.classList.add('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'false');
       }
   
       function hideBanner () {
           cbUI.banner.element.classList.remove('is-visible');
           cbUI.banner.element.setAttribute('aria-hidden', 'true');
       }
   
       function showBadge () {
           if (!cbUI.badge) {
               return;
           }
   
           cbUI.badge.classList.add('is-visible');
           cbUI.badge.setAttribute('aria-hidden', 'false');
       }
   
       function getConfigName () {
           var lsKeyName = 'publii-gdpr-allowed-cookies';
   
           if (cbConfig.revision) {
               lsKeyName = lsKeyName + '-v' + parseInt(cbConfig.revision, 10);
           }
   
           return lsKeyName;
       }
   
       function storeConfiguration (allowedGroups) {
           var lsKeyName = getConfigName();
           var dataToStore = allowedGroups.join(',');
           localStorage.setItem(lsKeyName, dataToStore);
   
           if (cbConfig.configTTL === 0) {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', 0);
   
               if (cbConfig.debugMode) {
                   console.log('🍪 Store never expiring configuration');
               }
           } else {
               localStorage.setItem('publii-gdpr-cookies-config-save-date', +new Date());
           }
       }
   
       function getInitialStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Initial state: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getCurrentStateOfConsents () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]:checked');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 State to save: ' + groups.join(', '));
           }
   
           return groups;
       }
   
       function getAllGroups () {
           if (!cbUI.popup.element) {
               return [];
           }
   
           var checkedGroups = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
           var groups = [];
   
           for (var i = 0; i < checkedGroups.length; i++) {
               var allowedGroup = checkedGroups[i].getAttribute('data-group-name');
   
               if (allowedGroup !== '') {
                   groups.push(allowedGroup);
               }
           }
   
           return groups;
       }
   
       function acceptAllCookies (source) {
           var groupsToAccept = getAllGroups();
           storeConfiguration(groupsToAccept);
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           if (cbUI.popup.element) {
               var checkboxesToCheck = cbUI.popup.element.querySelectorAll('input[type="checkbox"]');
   
               for (var j = 0; j < checkboxesToCheck.length; j++) {
                   checkboxesToCheck[j].checked = true;
               }
           }
   
           if (cbConfig.debugMode) {
               console.log('🍪 Accept all cookies: ', groupsToAccept.join(', '));
           }
   
           if (source === 'popup') {
               hideAdvancedPopup();
           } else if (source === 'banner') {
               hideBanner();
           }
       }
   
       function rejectAllCookies () {
           if (cbConfig.debugMode) {
               console.log('🍪 Reject all cookies');
           }
   
           storeConfiguration([]);
           setTimeout(function () {
               window.location.reload();
           }, 100);
       }
   
       function saveConfiguration () {
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
   
           if (reloadIsNeeded(groupsToAccept)) {
               setTimeout(function () {
                   window.location.reload();
               }, 100);
               return;
           }
   
           for (var i = 0; i < groupsToAccept.length; i++) {
               var group = groupsToAccept[i];
   
               if (cbConfig.initialState.indexOf(group) > -1 || cbConfig.previouslyAccepted.indexOf(group) > -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Skip previously activated group: ' + group);
                   }
   
                   continue;
               }
   
               allowCookieGroup(group);
           }
   
           hideAdvancedPopup();
       }
   
       function reloadIsNeeded (groupsToAccept) {
           // check if user rejected consent for initial groups
           var initialGroups = cbConfig.initialState;
           var previouslyAcceptedGroups = cbConfig.previouslyAccepted;
           var groupsToCheck = initialGroups.concat(previouslyAcceptedGroups);
   
           for (var i = 0; i < groupsToCheck.length; i++) {
               var groupToCheck = groupsToCheck[i];
   
               if (groupToCheck !== '' && groupsToAccept.indexOf(groupToCheck) === -1) {
                   if (cbConfig.debugMode) {
                       console.log('🍪 Reload is needed due lack of: ', groupToCheck);
                   }
   
                   return true;
               }
           }
   
           return false;
       }
   
       function unlockEmbeds (cookieGroup) {
           var iframesToUnlock = document.querySelectorAll('.pec-wrapper[data-consent-group-id="' + cookieGroup + '"]');
   
           for (var i = 0; i < iframesToUnlock.length; i++) {
               var iframeWrapper = iframesToUnlock[i];
               iframeWrapper.querySelector('.pec-overlay').classList.remove('is-active');
               iframeWrapper.querySelector('.pec-overlay').setAttribute('aria-hidden', 'true');
               var iframe = iframeWrapper.querySelector('iframe');
               iframe.setAttribute('src', iframe.getAttribute('data-consent-src'));
           }
       }
   
       win.publiiEmbedConsentGiven = function (cookieGroup) {
           // it will unlock embeds
           allowCookieGroup(cookieGroup);
   
           var checkbox = cbUI.popup.element.querySelector('input[type="checkbox"][data-group-name="' + cookieGroup + '"]');
   
           if (checkbox) {
               checkbox.checked = true;
           }
   
           var groupsToAccept = getCurrentStateOfConsents();
           storeConfiguration(groupsToAccept);
   
           if (cbConfig.debugMode) {
               console.log('🍪 Save new config: ', groupsToAccept.join(', '));
           }
       }
   })(window);</script></body></html>